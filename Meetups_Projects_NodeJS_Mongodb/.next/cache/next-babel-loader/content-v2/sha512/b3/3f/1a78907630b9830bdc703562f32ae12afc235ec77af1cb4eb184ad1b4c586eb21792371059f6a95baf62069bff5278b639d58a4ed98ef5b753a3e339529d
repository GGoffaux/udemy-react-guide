{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment } from \"react\";\nimport Head from \"next/head\";\nimport { MongoClient } from \"mongodb\";\nimport MeetupList from \"../components/meetups/MeetupList\";\n\nfunction HomePage(props) {\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"React Meetups\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"Browse a huge list of highly active React meetups!\"\n      })]\n    }), /*#__PURE__*/_jsx(MeetupList, {\n      meetups: props.meetups\n    }), \";\"]\n  });\n} // export async function getServerSideProps(context){\n//     const req = context.req;\n//     const res = context.res;\n//     // fetch data from an API\n//     return {\n//         props: {\n//             meetups: DUMMY_MEETUPS\n//         }\n//     };\n// };\n\n\nexport async function getStaticProps() {\n  // fetch data from an API\n  const client = await MongoClient.connect(\"mongodb+srv://ggoffaux:Equ!nox3s@cluster0.aysla.mongodb.net/meetups?retryWrites=true&w=majority\");\n  const db = client.db();\n  const meetupsCollection = db.collection(\"meetups\");\n  const meetups = await meetupsCollection.find().toArray();\n  client.close();\n  return {\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString()\n      }))\n    },\n    revalidate: 10\n  };\n}\nexport default HomePage; // import { useEffect, useState } from \"react\";\n// import MeetupList from \"../components/meetups/MeetupList\";\n// const DUMMY_MEETUPS = [\n//   {\n//     id: \"m1\",\n//     title: \"A first Meetup\",\n//     image:\n//       \"https://upload.wikimedia.org/wikipedia/commons/8/8f/070204_%2890%29_Mons.JPG\",\n//     address: \"Some address 5, 12345 Some City\",\n//     description: \"This is a first meetup!\",\n//   },\n//   {\n//     id: \"m2\",\n//     title: \"A second Meetup\",\n//     image:\n//       \"https://upload.wikimedia.org/wikipedia/commons/c/ca/Brugge-CanalRozenhoedkaai.JPG\",\n//     address: \"Some address 15, 34512 Other City\",\n//     description: \"This is a second meetup!\",\n//   },\n// ];\n// function HomePage() {\n//   const [loadedMeetups, setLoadedMeetups] = useState([]);\n//   useEffect(() => {\n//     //send a http request and fetch data\n//     setLoadedMeetups(DUMMY_MEETUPS);\n//   }, []);\n//   return <MeetupList meetups={loadedMeetups} />;\n// }\n// export default HomePage;","map":null,"metadata":{},"sourceType":"module"}